CREATE DATABASE  IF NOT EXISTS `SEMEDcontratos`;
USE SEMEDcontratos;

DROP TABLE IF EXISTS `tb_pessoas`;
DROP TABLE IF EXISTS `tb_cidades`;
DROP TABLE IF EXISTS `tb_local_trabalho`;
DROP TABLE IF EXISTS `tb_contratos`;
DROP TABLE IF EXISTS `tb_cargos`;
DROP TABLE IF EXISTS `tb_horarios`;
DROP TABLE IF EXISTS `tb_contratos_local_trabalho`;
DROP TABLE IF EXISTS `tb_horarios_local_trabalho`;

CREATE TABLE tb_pessoas (
codigo_pessoa int NOT NULL AUTO_INCREMENT,
nome_pessoa varchar(50) NOT NULL,
cpf_pessoa varchar(16) NOT NULL,
rg_pessoa varchar(20) NOT NULL,
nacionalidade_pessoa varchar(20) NOT NULL,
estado_civil_pessoa varchar(20) NOT NULL,
bairro_pessoa varchar(45) NOT NULL,
endereco_pessoa varchar(250) NOT NULL,
email_pessoa varchar(45),
telefone1_pessoa varchar(15) NOT NULL,
telefone2_pessoa varchar(15),
inst_medio_pessoa varchar(45),
ano_medio_pessoa int(4),
desc_graduacao1_pessoa varchar(45),
inst_graduacao1_pessoa varchar(45),
ano_graduacao1_pessoa int(4),
desc_graduacao2_pessoa varchar(45),
inst_graduacao2_pessoa varchar(45),
ano_graduacao2_pessoa int(4),
desc_pos1_pessoa varchar(45),
inst_pos1_pessoa varchar(45),
ano_pos1_pessoa int(4),
desc_pos2_pessoa varchar(45),
inst_pos2_pessoa varchar(45),
ano_pos2_pessoa int(4),
desc_mestrado_pessoa varchar(45),
inst_mestrado_pessoa varchar(45),
ano_mestrado_pessoa int(4),
desc_doutorado_pessoa varchar(45),
inst_doutorado_pessoa varchar(45),
ano_doutorado_pessoa int(4),
PRIMARY KEY (codigo_pessoa)
);

CREATE TABLE tb_cidades (
codigo_cidade int NOT NULL AUTO_INCREMENT,
nome_cidade varchar(45) NOT NULL,
uf_cidade varchar(2) NOT NULL,
PRIMARY KEY (codigo_cidade)
);

CREATE TABLE tb_local_trabalho (
codigo_local_trabalho int NOT NULL AUTO_INCREMENT,
nome_local_trabalho varchar(45) NOT NULL,
responsavel_local_trabalho varchar(45),
telefone_local_trabalho varchar(15),
PRIMARY KEY (codigo_local_trabalho)
);

CREATE TABLE tb_contratos (
codigo_contrato int NOT NULL,
justificativa_contrato varchar(100) NOT NULL,
periodo_contrato varchar(30) NOT NULL,
salario_contrato float(15) NOT NULL,
data_contrato varchar(10) NOT NULL,
ano_seletivo_contrato int(4) NOT NULL,
obs_contrato varchar(250),
jornada_trabalho_contrato int(3) NOT NULL,
PRIMARY KEY (codigo_contrato)
);

CREATE TABLE tb_cargos (
codigo_cargo int NOT NULL AUTO_INCREMENT,
nome_cargo varchar(45) NOT NULL,
salario_hora_cargo float(5) NOT NULL,
grupo_ocupacional_cargo varchar(15) NOT NULL,
clausula_primeira_cargo varchar(7) NOT NULL,
PRIMARY KEY (codigo_cargo)
);

CREATE TABLE tb_horarios (
codigo_horario int NOT NULL AUTO_INCREMENT,
horario_periodo_horario varchar(15) NOT NULL,
descricao_periodo_horario varchar(15) NOT NULL,
PRIMARY KEY (codigo_horario)
);

/* Tabelas de ligação n-n */

CREATE TABLE tb_contratos_local_trabalho (
codigo_contrato int NOT NULL,
codigo_local_trabalho int NOT NULL,
PRIMARY KEY (codigo_contrato, codigo_local_trabalho)
);

CREATE TABLE tb_horarios_local_trabalho (
codigo_horario int NOT NULL,
codigo_local_trabalho int NOT NULL,
PRIMARY KEY (codigo_horario, codigo_local_trabalho)
);